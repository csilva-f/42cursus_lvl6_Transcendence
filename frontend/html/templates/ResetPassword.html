<div class="container-fluid d-flex justify-content-center align-items-center" style="height: calc(100vh - 14rem);">
	<div class="row">
		<div class="p-3 pt-4 shadow rounded" style="background-color: var(--cardBg); width: 600px;">
			<p class="h4 text-center" style="font-weight: bold; color: #000;">Let's reset your password</p>
			<div class="tab-pane fade show active" id="resetPwd" role="tabpanel" aria-labelledby="resetPwd-tab">
				<form class="mt-3 needs-validation" id="resetPwd-form" novalidate>

					<div class="mb-3">
						<label for="newPassword" class="form-label">New password</label>
						<div class="input-group">
							<span class="input-group-text" style="border: none; background: white;">
								<i class="fas fa-lock" style="color: var(--primary);"></i></span>
							<input type="password" class="form-control" id="newPassword" style="border: none;" required
							oninput="validateNewPassword('newPassword', 'passwordValidation', 'charCheck', 'confirmPassword')">
							<span class="input-group-text" id="toggleSignupPassword" style="cursor: pointer; background: white; border: none;"
							 onclick="passwordVisibility(`newPassword`, `toggleSignupPassword`)">
								<i class="fas fa-eye-slash" style="color: var(--primary);"></i>
							</span>
						</div>
						<small id="passwordValidation" class="form-text text-muted d-none">
							<i id="charCheck" class="fa-solid fa-xmark" style="color: #ff2600;"></i>
							Password must be at least 8 characters long
						</small>
					</div>

					<div class="mb-3">
						<label for="confirmPassword" class="form-label">Retype password</label>
						<div class="input-group">
						   <span class="input-group-text" style="border: none; background: white;">
							  <i class="fa-solid fa-lock" style="color: var(--primary);"></i>
						   </span>
						   <input type="password" class="form-control" id="confirmPassword" style="border: none;" required
							  oninput="validatePasswordsMatch('newPassword', 'confirmPassword', 'confirmValidation', 'matchCheck')">
						   <span class="input-group-text" id="toggleConfirmPassword" style="cursor: pointer; background: white; border: none;"
							  onclick="passwordVisibility('confirmPassword', 'toggleConfirmPassword')">
							  <i class="fas fa-eye-slash" style="color: var(--primary);"></i>
						   </span>
						</div>
						<small id="confirmValidation" class="form-text text-muted d-none">
						   <i id="matchCheck" class="fa-solid fa-xmark" style="color: #ff2600;"></i>
						   Passwords do not match
						</small>
					 </div>
					<button type="submit" class="btn" style="background-color: var(--primary); color: white; width: 100%;">Reset</button>
				</form>
				<p id="resetPwd-message" class="invalid-feedback">
				</p>
			</div>
		</div>
	</div>
</div>

<script>
    console.log("caralho");
    document.addEventListener("DOMContentLoaded", () => {
        const newPassword = document.getElementById("newPassword");
        const confirmPassword = document.getElementById("confirmPassword");
        const charCheck = document.getElementById("charCheck");
        const matchCheck = document.getElementById("matchCheck");
        const passwordValidation =
            document.getElementById("passwordValidation");
        const confirmValidation = document.getElementById("confirmValidation");

        newPassword.addEventListener("input", () => {
            passwordValidation.classList.remove("d-none");

            if (newPassword.value.length >= 8) {
                charCheck.className = "fa-solid fa-check";
                charCheck.style.color = "green";
            } else {
                charCheck.className = "fa-solid fa-xmark";
                charCheck.style.color = "#ff2600";
            }
            validateMatch();
        });

        confirmPassword.addEventListener("input", () => {
            confirmValidation.classList.remove("d-none");
            validateMatch();
        });

        function validateMatch() {
            if (
                newPassword.value === confirmPassword.value &&
                newPassword.value.length >= 8
            ) {
                matchCheck.className = "fa-solid fa-check";
                matchCheck.style.color = "green";
            } else {
                matchCheck.className = "fa-solid fa-xmark";
                matchCheck.style.color = "#ff2600";
            }
        }
    });
</script>
